# üß™ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ MuJoCo + —Å–∏–º—É–ª—è—Ü–∏—è —Ä–æ–±–æ—Ç–∞ Unitree (–¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤)

> –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ–º–æ–∂–µ—Ç —Ç–µ–±–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å MuJoCo ‚Äî —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —Å–∏–º—É–ª—è—Ç–æ—Ä ‚Äî –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ –Ω—ë–º —Ä–æ–±–æ—Ç–∞ –æ—Ç –∫–æ–º–ø–∞–Ω–∏–∏ Unitree (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–±–∞–∫—É –∏–ª–∏ –≥—É–º–∞–Ω–æ–∏–¥–∞ H1). –í—Å—ë –¥–µ–ª–∞–µ—Ç—Å—è –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ Linux (–Ω–∞–ø—Ä–∏–º–µ—Ä, Ubuntu).

---

## üîΩ –®–∞–≥ 1: –°–∫–∞—á–∏–≤–∞–µ–º MuJoCo

1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–ª–∏–∑–æ–≤ MuJoCo:  
   üëâ [https://github.com/google-deepmind/mujoco/releases](https://github.com/google-deepmind/mujoco/releases)

2. –ù–∞–π–¥–∏ –∏ —Å–∫–∞—á–∞–π –∞—Ä—Ö–∏–≤ **`mujoco-3.3.6-linux-x86_64.tar.gz`** (–∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é –¥–ª—è Linux).  
   –û–±—ã—á–Ω–æ –æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–∞–ø–∫—É **`–ó–∞–≥—Ä—É–∑–∫–∏`** (–∏–ª–∏ `~/Downloads`).

   ![–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ –Ω–∞ Github](photo_for_instructions/mujoco/archive_mujoco.png)

---

## üì¶ –®–∞–≥ 2: –†–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ–º MuJoCo

–û—Ç–∫—Ä–æ–π **—Ç–µ—Ä–º–∏–Ω–∞–ª** –∏ –≤—ã–ø–æ–ª–Ω–∏ –∫–æ–º–∞–Ω–¥—É:

```bash
sudo tar -xvzf ~/Downloads/mujoco-3.3.6-linux-x86_64.tar.gz -C /opt/
```

> üí° –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Ä–∞—Å–ø–∞–∫—É–µ—Ç MuJoCo –≤ —Å–∏—Å—Ç–µ–º–Ω—É—é –ø–∞–ø–∫—É `/opt/`, —á—Ç–æ–±—ã –æ–Ω –±—ã–ª –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

---

## üîó –®–∞–≥ 3: –î–µ–ª–∞–µ–º MuJoCo –¥–æ—Å—Ç—É–ø–Ω—ã–º –∏–∑ –ª—é–±–æ–π –ø–∞–ø–∫–∏

–ß—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–∏–º—É–ª—è—Ç–æ—Ä –ø—Ä–æ—Å—Ç–æ –∫–æ–º–∞–Ω–¥–æ–π `simulate`, —Å–æ–∑–¥–∞–¥–∏–º —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É:

```bash
sudo ln -s /opt/mujoco-3.3.6/bin/simulate /usr/local/bin/simulate
```

---

## ‚úÖ –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤–≤–µ–¥–∏:

```bash
simulate
```

–ï—Å–ª–∏ –≤—Å—ë —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –æ–∫–Ω–æ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ MuJoCo:

![–¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ MuJoCo](photo_for_instructions/mujoco/simulate_test.png)

–ó–∞–∫—Ä–æ–π –æ–∫–Ω–æ ‚Äî —Ç–µ–ø–µ—Ä—å MuJoCo —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!

---

## ü§ñ –®–∞–≥ 5: –ö–ª–æ–Ω–∏—Ä—É–µ–º —Å–∏–º—É–ª—è—Ü–∏—é —Ä–æ–±–æ—Ç–∞ Unitree

–í—ã–ø–æ–ª–Ω–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
cd ~
git clone https://github.com/unitreerobotics/unitree_mujoco.git
```

> –≠—Ç–æ —Å–∫–∞—á–∞–µ—Ç –∫–æ–¥ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ä–æ–±–æ—Ç–æ–≤ Unitree (—Å–æ–±–∞–∫–∞, –≥—É–º–∞–Ω–æ–∏–¥ –∏ —Ç.–¥.) –≤ MuJoCo.

---

## üß© –®–∞–≥ 6: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python

MuJoCo –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ Python. –£—Å—Ç–∞–Ω–æ–≤–∏–º –Ω—É–∂–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

```bash
pip3 install mujoco pygame
```

> üí° –£–±–µ–¥–∏—Å—å, —á—Ç–æ —É —Ç–µ–±—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `pip3`. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏ —á–µ—Ä–µ–∑ `sudo apt install python3-pip`.
>

–ù–∏—á–µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –ø–æ—è–≤–∏–ª–∞—Å—å –≤–æ—Ç —Ç–∞–∫–∞—è –æ—à–∏–±–∫–∞:
```bash
ERROR: importlib-resources 6.4.5 has requirement zipp>=3.1.0; python_version < "3.10", but you'll have zipp 1.0.0 which is incompatible.
```

–ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –∫ —à–∞–≥—É 7.


---

## üêï –®–∞–≥ 7: –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏–º—É–ª—è—Ü–∏—é —Å–æ–±–∞–∫–∏

–ü–µ—Ä–µ–π–¥–∏ –≤ –ø–∞–ø–∫—É —Å–∏–º—É–ª—è—Ü–∏–∏ –∏ –∑–∞–ø—É—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç:

```bash
cd ~/unitree_mujoco/simulate_python
python3 unitree_mujoco.py
```

–î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è **—Å–æ–±–∞–∫–∞**, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ—Å—Ç–æ —Å—Ç–æ–∏—Ç –Ω–∞ –º–µ—Å—Ç–µ (–Ω–µ –¥–≤–∏–≥–∞–µ—Ç—Å—è):

![–¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ MuJoCo —Å —Ä–æ–±–æ—Å–æ–±–∞–∫–æ–π Unitree Go2](photo_for_instructions/mujoco/unitree_mujoco.png)

---

## ‚öôÔ∏è –®–∞–≥ 8: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–æ—á–µ–Ω—å –≤–∞–∂–Ω–æ!)

–°–µ–π—á–∞—Å —Å–∏–º—É–ª—è—Ü–∏—è –Ω–µ "–æ–±—â–∞–µ—Ç—Å—è" —Å ROS2. –ù—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –≤—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω–æ–≥–æ —Ä–æ–±–æ—Ç–∞.

1. –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫:

   ```bash
   nano config.py
   ```

   –û–Ω –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

   ![–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ MuJoCo](photo_for_instructions/mujoco/config_mujoco1.png)

2. –û—Ç–∫—Ä–æ–π **–Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª** –∏ –≤—ã–ø–æ–ª–Ω–∏:

   ```bash
   ip a
   ```

   –ù–∞–π–¥–∏ –∞–∫—Ç–∏–≤–Ω—ã–π —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–æ–±—ã—á–Ω–æ `wlan0`, `eth0` –∏–ª–∏ `enp...`):

   ![–ì–¥–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å](photo_for_instructions/mujoco/net_interface.png)

3. –í–µ—Ä–Ω–∏—Å—å –≤ `config.py` –∏ –∏–∑–º–µ–Ω–∏:
   - `robot` ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ `"h1"` (–µ—Å–ª–∏ —Ö–æ—á–µ—à—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –≥—É–º–∞–Ω–æ–∏–¥–∞ H1 –≤–º–µ—Å—Ç–æ —Å–æ–±–∞–∫–∏),
   - `interface` ‚Äî —É–∫–∞–∂–∏ –∏–º—è —Ç–≤–æ–µ–≥–æ —Å–µ—Ç–µ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"wlan0"`),
   - —É–±–µ–¥–∏—Å—å, —á—Ç–æ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–ø–æ–¥—á—ë—Ä–∫–Ω—É—Ç—ã–µ —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–º) —Ç–æ–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ.

   –ü—Ä–∏–º–µ—Ä –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:

   ![–ù–µ–æ–±—Ö–æ–¥–∏–º–∞—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Unitree H1 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ MuJoCo](photo_for_instructions/mujoco/config_mujoco2.png)

4. –°–æ—Ö—Ä–∞–Ω–∏ —Ñ–∞–π–ª:  
   –í `nano` –Ω–∞–∂–º–∏ `Ctrl+O` ‚Üí Enter ‚Üí `Ctrl+X`.

---

## ‚ñ∂Ô∏è –®–∞–≥ 9: –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏–º—É–ª—è—Ü–∏—é —Å–Ω–æ–≤–∞

```bash
cd ~/unitree_mujoco/simulate_python
python3 unitree_mujoco.py
```

–¢–µ–ø–µ—Ä—å —Ä–æ–±–æ—Ç –¥–æ–ª–∂–µ–Ω –¥–≤–∏–≥–∞—Ç—å—Å—è, –∏ —Å–∏–º—É–ª—è—Ü–∏—è –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –ø—Ä–∏–º–µ—Ä –≤ –∫–æ—Ä–æ—Ç–∫–æ–º –≤–∏–¥–µ–æ –ø–æ —Å—Å—ã–ª–∫–µ:

[Unitree H1 –≤ mujoco](https://disk.yandex.ru/i/MjWAQHr5EcbZmQ)


---

## üì° –®–∞–≥ 10: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º ROS2 (—á—Ç–æ–±—ã –ø–æ—è–≤–ª—è–ª–∏—Å—å —Ç–æ–ø–∏–∫–∏)

–ß—Ç–æ–±—ã —Å–∏–º—É–ª—è—Ü–∏—è "—Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞–ª–∞" —Å ROS2, –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å (DDS) —Ä–∞–±–æ—Ç–∞–µ—Ç. –°–º–æ—Ç—Ä–µ—Ç—å –Ω–∞–ª–∏—á–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ç–æ–ø–∏–∫–æ–≤ –Ω—É–∂–Ω–æ, –æ—á–µ–≤–∏–¥–Ω–æ –ø—Ä–∏ –∑–∞–ø—É—â–µ–Ω–Ω–æ–π —Å–∏–º—É–ª—è—Ü–∏–∏ Unitree H1 –≤ mujoco.

1. –î–æ–±–∞–≤—å –ø—É—Ç—å –∫ –ª–æ–∫–∞–ª—å–Ω—ã–º –ø—Ä–æ–≥—Ä–∞–º–º–∞–º –≤ `.bashrc`:

   ```bash
   echo 'export PATH="$HOME/.local/bin:$PATH"' >> ~/.bashrc
   ```

2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:

   ```bash
   source ~/.bashrc
   ```

3. –ü—Ä–æ–≤–µ—Ä—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ CycloneDDS (—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç ROS2) (mujoco —Å —Ä–æ–±–æ—Ç–æ–º H1 –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–∞, —á—Ç–æ –±—ã —Ç–æ–ø–∏–∫–∏ –±—ã–ª–∏):

   ```bash
   cyclonedds ps
   ```

   –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:

   ![–ê–∫—Ç–∏—ã–Ω—ã–µ —Ç–æ–ø–∏–∫–∏ (DDS)](photo_for_instructions/mujoco/cyclonedds_ps.png)

4. –ü–æ—Å–º–æ—Ç—Ä–∏ —Å–ø–∏—Å–æ–∫ ROS2-—Ç–æ–ø–∏–∫–æ–≤:

   ```bash
   ros2 topic list
   ```

   **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–≤–æ–¥** –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å —Ç–æ–ø–∏–∫–∏ –æ—Ç —Ä–æ–±–æ—Ç–∞:

   ```
   /lowcmd
   /lowstate
   /parameter_events
   /rosout
   /sportmodestate
   /wirelesscontroller
   ```

   –ï—Å–ª–∏ –≤–∏–¥–∏—à—å —Ç–æ–ª—å–∫–æ `/parameter_events` –∏ `/rosout` ‚Äî –∑–Ω–∞—á–∏—Ç, ROS2-–¥–µ–º–æ–Ω –Ω–µ –≤–∏–¥–∏—Ç —Å–∏–º—É–ª—è—Ü–∏—é.
   
   ```
   /parameter_events
   /rosout
   ```

   **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**

   ```bash
   ros2 daemon stop
   ros2 daemon start
   ros2 topic list
   ```

   –¢–µ–ø–µ—Ä—å —Ç–æ–ø–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è!
