## ü§ñ –ß—Ç–æ —Ç–∞–∫–æ–µ `LowCmd` –∏ `LowState`?

- **`LowCmd`** ‚Äî —ç—Ç–æ **—Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ —Ä–æ–±–æ—Ç—É**.  
  ‚Üí –í—ã –≥–æ–≤–æ—Ä–∏—Ç–µ: ¬´–ú–æ—Ç–æ—Ä ‚Ññ3, –ø–æ–≤–µ—Ä–Ω–∏—Å—å –Ω–∞ 0.5 —Ä–∞–¥–∏–∞–Ω —Å —Ç–∞–∫–æ–π –∂—ë—Å—Ç–∫–æ—Å—Ç—å—é!¬ª

- **`LowState`** ‚Äî —ç—Ç–æ **–æ—Ç–≤–µ—Ç –æ—Ç —Ä–æ–±–æ—Ç–∞**, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç:  
  ‚Üí ¬´–í–æ—Ç –º–æ–∏ —Ç–µ–∫—É—â–∏–µ —É–≥–ª—ã, —Å–∫–æ—Ä–æ—Å—Ç–∏, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã, –¥–∞–Ω–Ω—ã–µ —Å –≥–∏—Ä–æ—Å–∫–æ–ø–∞ –∏ —Ç.–¥.¬ª

–≠—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ **–Ω–∏–∑–∫–æ–º —É—Ä–æ–≤–Ω–µ (low-level)** ‚Äî –≤—ã —É–ø—Ä–∞–≤–ª—è–µ—Ç–µ –º–æ—Ç–æ—Ä–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é, –±–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –≤—Ä–æ–¥–µ ¬´–∏–¥—Ç–∏ –≤–ø–µ—Ä—ë–¥¬ª.

---

## üì§ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `LowCmd` ‚Äî –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ä–æ–±–æ—Ç–∞

```plaintext
uint8[2] head                
uint8 level_flag              
uint8 frame_reserve          
uint32[2] sn                 
uint32[2] version            
uint16 bandwidth             
MotorCmd[20] motor_cmd       ‚Üí **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è 20 –º–æ—Ç–æ—Ä–æ–≤** (–≥–ª–∞–≤–Ω–æ–µ –ø–æ–ª–µ!)
BmsCmd bms_cmd               
uint8[40] wireless_remote    
uint8[12] led               
uint8[2] fan                 
uint8 gpio                 
uint32 reserve              
uint32 crc                   ‚Üí –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞
```

### üîß –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏ `MotorCmd` (–æ–¥–∏–Ω –º–æ—Ç–æ—Ä)?

```plaintext
uint8 mode   
float32 q    ‚Üí –¶–µ–ª–µ–≤–æ–π —É–≥–æ–ª (–≤ —Ä–∞–¥–∏–∞–Ω–∞—Ö). –ù–∞–ø—Ä–∏–º–µ—Ä: 0.0 = –Ω–µ–π—Ç—Ä–∞–ª—å, 1.0 ‚âà 57¬∞
float32 dq   ‚Üí –¶–µ–ª–µ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –≤—Ä–∞—â–µ–Ω–∏—è (—Ä–∞–¥/—Å). –û–±—ã—á–Ω–æ 0.
float32 tau  ‚Üí –¶–µ–ª–µ–≤–æ–π –º–æ–º–µ–Ω—Ç (–ù¬∑–º). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ä–µ–∂–∏–º–µ 1.
float32 kp   ‚Üí "–ñ—ë—Å—Ç–∫–æ—Å—Ç—å" ‚Äî –Ω–∞—Å–∫–æ–ª—å–∫–æ —Å–∏–ª—å–Ω–æ –º–æ—Ç–æ—Ä —Å–æ–ø—Ä–æ—Ç–∏–≤–ª—è–µ—Ç—Å—è –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—é –æ—Ç —É–≥–ª–∞ `q`
float32 kd   ‚Üí "–ê–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è" ‚Äî –Ω–∞—Å–∫–æ–ª—å–∫–æ —Å–∏–ª—å–Ω–æ –º–æ—Ç–æ—Ä —Ç–æ—Ä–º–æ–∑–∏—Ç –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏
uint32[3] reserve 
```

> üí° **–ü—Ä–∏–º–µ—Ä**:  
> –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –º–æ—Ç–æ—Ä –¥–µ—Ä–∂–∞–ª —É–≥–æ–ª 0.3 —Ä–∞–¥ –∏ –±—ã–ª "—É–ø—Ä—É–≥–∏–º", –∫–∞–∫ –ø—Ä—É–∂–∏–Ω–∞:  
> ```python
> mode = 10
> q = 0.3
> dq = 0.0
> kp = 50.0
> kd = 2.0
> ```

---

## üì• –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `LowState` ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–æ–±–æ—Ç–∞

```plaintext
uint8[2] head                
uint8 level_flag             
uint8 frame_reserve          
uint32[2] sn                 
uint32[2] version            
uint16 bandwidth             
IMUState imu_state           ‚Üí **–î–∞–Ω–Ω—ã–µ —Å –≥–∏—Ä–æ—Å–∫–æ–ø–∞ –∏ –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä–∞**
MotorState[20] motor_state   ‚Üí **–°–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö 20 –º–æ—Ç–æ—Ä–æ–≤**
BmsState bms_state           
int16[4] foot_force          
int16[4] foot_force_est     
uint32 tick                  
uint8[40] wireless_remote    
uint8 bit_flag               
float32 adc_reel             
int8 temperature_ntc1/2      
float32 power_v              
float32 power_a              
uint16[4] fan_frequency      
uint32 reserve               
uint32 crc                   
```

### üìä –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏ `MotorState` (–æ–¥–∏–Ω –º–æ—Ç–æ—Ä)?

```plaintext
uint8 mode        ‚Üí –¢–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º –º–æ—Ç–æ—Ä–∞
float32 q         ‚Üí –¢–µ–∫—É—â–∏–π —É–≥–æ–ª (—Ä–∞–¥)
float32 dq        ‚Üí –¢–µ–∫—É—â–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å (—Ä–∞–¥/—Å)
float32 ddq       ‚Üí –£—Å–∫–æ—Ä–µ–Ω–∏–µ (—Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
float32 tau_est   ‚Üí –û—Ü–µ–Ω–∫–∞ –º–æ–º–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–µ–π—á–∞—Å –ø—Ä–∏–ª–æ–∂–µ–Ω
float32 q_raw     ‚Üí "–°—ã—Ä–æ–π" —É–≥–æ–ª (–¥–æ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
float32 dq_raw    ‚Üí "–°—ã—Ä–∞—è" —Å–∫–æ—Ä–æ—Å—Ç—å
int8 temperature  ‚Üí –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –º–æ—Ç–æ—Ä–∞ (¬∞C)
uint32 lost       ‚Üí –°–∫–æ–ª—å–∫–æ –ø–∞–∫–µ—Ç–æ–≤ –ø–æ—Ç–µ—Ä—è–Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ –º–æ—Ç–æ—Ä–∞
```

### üß≠ –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏ `IMUState`?


```plaintext
float32 quaternion[4]   ‚Üí –û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è —Ä–æ–±–æ—Ç–∞ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ: [w, x, y, z]
float32 gyroscope[3]    ‚Üí –£–≥–ª–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å: [œâx, œây, œâz] (—Ä–∞–¥/—Å)
float32 accelerometer[3]‚Üí –£—Å–∫–æ—Ä–µ–Ω–∏–µ: [ax, ay, az] (–º/—Å¬≤)
float32[3] rpy
int8 temperature

```
---

## üß© –ö–∞–∫ —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å? (–ö—Ä–∞—Ç–∫–æ)

- –ß—Ç–æ–±—ã **—É–ø—Ä–∞–≤–ª—è—Ç—å –º–æ—Ç–æ—Ä–∞–º–∏** ‚Üí –ø—É–±–ª–∏–∫—É–π—Ç–µ –≤ —Ç–æ–ø–∏–∫ `/lowcmd`, –∑–∞–ø–æ–ª–Ω—è—è `motor_cmd[i]`.
- –ß—Ç–æ–±—ã **—á–∏—Ç–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ** ‚Üí –ø–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ `/lowstate`, —á–∏—Ç–∞–π—Ç–µ `motor_state[i].q`, `imu_state.gyroscope` –∏ —Ç.–¥.

---
