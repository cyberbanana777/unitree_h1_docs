# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ  –∑–Ω–∞—á–µ–Ω–∏—è–º –ø—Ä–∏–Ω–∏–º–∞–µ–º—ã—Ö —É–≥–ª–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—É—Å—Ç–≤–∞

**–≠—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —É–∫–∞–∑–∞–Ω—ã –≤ [–æ—Ñ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –æ—Ç Unitree](https://support.unitree.com/home/en/developer).**

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Å–µ–π
–ö–æ–≥–¥–∞ –≤—Å–µ —à–∞—Ä–Ω–∏—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –Ω—É–ª–µ–≤–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏, —Å–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —Ä–∏—Å—É–Ω–∫–µ. –ö—Ä–∞—Å–Ω–∞—è –æ—Å—å –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –æ—Å—å X, –∑–µ–ª—ë–Ω–∞—è ‚Äî –æ—Å—å Y, –∞ —Å–∏–Ω—è—è ‚Äî –æ—Å—å Z.

![–û—Å–∏ –∫–æ–æ—Ä—Ä–¥–∏–Ω–∞—Ç, –∫–æ–≥–¥–∞ —à–∞—Ä–Ω–∏—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –Ω—É–ª–µ–≤–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏](photo_for_instructions/robot_analysis/the_hinges_are_in_the_zero_position.png)


*–†–∏—Å—É–Ω–æ–∫ 1 - –û—Å–∏ –∫–æ–æ—Ä—Ä–¥–∏–Ω–∞—Ç, –∫–æ–≥–¥–∞ —à–∞—Ä–Ω–∏—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –Ω—É–ª–µ–≤–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏*

## –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:

–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —ç—Ç—É –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –≤–∂–∏–≤—É—é –∏ –ø–æ—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –º–æ–¥–µ–ª—å—é —Ä–æ–±–æ—Ç–∞ –≤ Rviz. –î–ª—è —ç—Ç–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:

1.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Rviz** (–æ–±—ã—á–Ω–æ –≤—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–∞–≤ ROS2).
2.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ —Å–æ–±–µ—Ä–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:**
    *   [`unitree_h1_visualization_ws`](https://github.com/cyberbanana777/unitree_h1_visualization_ws) ‚Äî —Å–ª–µ–¥—É—è –ø—Ä–∏–ª–æ–∂–µ–Ω–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.
    *   [`unitree_h1_control_ws`](https://github.com/cyberbanana777/unitree_h1_control_ws) ‚Äî –µ—Å–ª–∏ –æ–Ω –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.

–ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Ç–µ–π —Å–∫—Ä–∏–ø—Ç–æ–º (3 —à–∞–≥ –≤ `unitree_h1_visualization_ws`) —Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –≤—ã–≤–æ–¥ —Å–∫—Ä–∏–ø—Ç–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –∏–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –∏–∑-–ø–æ–¥ sudo.
–≠—Ç–æ –∑–Ω–∞—á–∏—Ç –Ω–∞–ø–∏—Å–∞—Ç—å –ø–µ—Ä–µ–¥ —Ç–µ–∫—Å—Ç–æ–º –∫–æ–º–∞–Ω–¥—ã sudo –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å, –∞ –ø–æ—Ç–æ–º –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å.

3.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É.**

–°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ launch-—Ñ–∞–π–ª –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏ —Ä–æ–±–æ—Ç–∞:
```bash
ros2 launch completed_scripts_visualization show.launch.py mode:=without_hands launch_rviz:=True robot:=simulation
```

![–†–æ–±–æ—Ç –≤ rviz](photo_for_instructions/robot_analysis/robot_in_rviz.png)

*–†–∏—Å—É–Ω–æ–∫ 2 - –†–æ–±–æ—Ç –≤ rviz*

- –ö—Ä–∞—Å–Ω–∞—è –æ—Å—å –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –æ—Å—å X, –∑–µ–ª—ë–Ω–∞—è ‚Äî –æ—Å—å Y, –∞ —Å–∏–Ω—è—è ‚Äî –æ—Å—å Z.
- Show Axes - –ø–æ–∫–∞–∂–µ—Ç –æ—Å–∏.
- Frames - –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –∏–ª–∏ –≤—ã–∫–ª—é—á–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –æ—Å–µ–π.

–ó–∞—Ç–µ–º, –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–æ–¥—É –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤, —á—Ç–æ–±—ã –∑–∞–¥–∞–≤–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏:
```bash
ros2 run low_level_control low_level_control_without_hands_node
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å: –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–î–ª—è —É–ø—Ä–æ—â—ë–Ω–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è —É–≥–ª–æ–≤ —Å—É—Å—Ç–∞–≤–æ–≤ –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å [–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å](https://github.com/cyberbanana777/unitree_h1_control_ws?tab=readme-ov-file#gui_control) `gui_control_node`.

```bash
ros2 run gui_control gui_control_node
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `unitree_h1_control_ws` —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –±–æ–ª—å—à–µ –Ω–∏—á–µ–≥–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

![–†–æ–±–æ—Ç –≤ rviz](photo_for_instructions/robot_analysis/gui_control.png)

*–†–∏—Å—É–Ω–æ–∫ 3 - –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º*

> –ú–æ–∂–Ω–æ –≤–≤–æ–¥—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –ø–æ–ª–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏–ª–∏ –∏–∑–º–µ–Ω—è—Ç—å –∫–Ω–æ–ø–∫–∞–º–∏ "+" –∏ "-".

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Ä–∞—â–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–≤–µ–Ω–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–¥–∞–Ω–Ω–æ–≥–æ –Ω–∞ –º–æ—Ç–æ—Ä –∑–Ω–∞—á–µ–Ω–∏—è (—É–≥–ª–∞)

–ï—Å–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –∏–∑ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø—É–Ω–∫—Ç–∞, –≤—ã —Å–º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–æ–±–æ—Ç–æ–º —á–µ—Ä–µ–∑ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ rviz –∏ –Ω–∞–±–ª—é–¥–∞—Ç—å, –≤ –∫–∞–∫—É—é —Å—Ç–æ—Ä–æ–Ω—É –±—É–¥–µ—Ç –≤—Ä–∞—â–∞—Ç—å—Å—è –∫–∞–∂–¥–æ–µ –∑–≤–µ–Ω–æ.

–í –æ–±—â–µ–º —Å–ª—É—á–∞–µ, –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–æ –∂–µ —Å–∞–º–æ–µ –≤ MuJoCo. –î–ª—è —ç—Ç–æ–≥–æ:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ MuJoCo** –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ `5_–ö–∞–∫_—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å_Mujoco_–≤–º–µ—Å—Ç–µ_—Å_–º–æ–¥–µ–ª—è–º–∏_Unitree.md`
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–º—É–ª—è—Ü–∏—é** - –≤ –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏ –æ–∫–Ω–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –≤—ã –Ω–∞–π–¥–µ—Ç–µ —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–µ–µ—Å—è –ø–æ–ª–µ **Control**
3. **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ** - —á–µ—Ä–µ–∑ —ç—Ç–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–∂–Ω–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–º –º–æ—Ç–æ—Ä–æ–º –∏ –≤–∏–∑—É–∞–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ/–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–∞—â–µ–Ω–∏—è.

![–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–∞–º–∏ –≤ mujoco](photo_for_instructions/robot_analysis/control_joints_in_mujoco.png)

*–†–∏—Å—É–Ω–æ–∫ 4 - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–∞–º–∏ –≤ mujoco*

# –ê–Ω–∞–ª–∏–∑ URDF: —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –∏ –Ω–∞–∫–ª–æ–Ω—ã link –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –¥—Ä—É–≥ –¥—Ä—É–≥–∞

![–°—É—Å—Ç–∞–≤—ã Unitre H1](photo_for_instructions/robot_analysis/joints_h1.png)

*–†–∏—Å—É–Ω–æ–∫ 5 - –°—É—Å—Ç–∞–≤—ã Unitre H1*

## –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–ø–∏—Å–∞–Ω–∏—è –∑–≤–µ–Ω–∞ –∏ –µ–≥–æ

### 1. –ó–≤–µ–Ω–æ (Link `<link>`)
**–¢–µ–≥ `<link> `–æ–ø–∏—Å—ã–≤–∞–µ—Ç –∂–µ—Å—Ç–∫–∏–π —Å–µ–≥–º–µ–Ω—Ç —Ä–æ–±–æ—Ç–∞, –µ–≥–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞. –£ –∫–∞–∂–¥–æ–≥–æ –∑–≤–µ–Ω–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è (name).**

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ `<link>`:
`<inertial>` (–ò–Ω–µ—Ä—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã): –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–∞—Å—Å—É –∏ –º–æ–º–µ–Ω—Ç –∏–Ω–µ—Ä—Ü–∏–∏ –∑–≤–µ–Ω–∞. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, Gazebo).

`<origin>`: –ó–∞–¥–∞–µ—Ç —Å–º–µ—â–µ–Ω–∏–µ –∏ –ø–æ–≤–æ—Ä–æ—Ç —Ü–µ–Ω—Ç—Ä–∞ –∏–Ω–µ—Ä—Ü–∏–∏ (Center of Mass) –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞ –∑–≤–µ–Ω–∞.

`<mass>`: –ú–∞—Å—Å–∞ –∑–≤–µ–Ω–∞ –≤ –∫–∏–ª–æ–≥—Ä–∞–º–º–∞—Ö.

`<inertia>`: –¢–µ–Ω–∑–æ—Ä –∏–Ω–µ—Ä—Ü–∏–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π —Å–æ–±–æ–π —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É 3x3. –û–Ω –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –º–∞—Å—Å–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤–æ–∫—Ä—É–≥ –æ—Å–µ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã ixx, iyy, izz ‚Äî —ç—Ç–æ –º–æ–º–µ–Ω—Ç—ã –∏–Ω–µ—Ä—Ü–∏–∏, –∞ ixy, ixz, iyz ‚Äî –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∏–Ω–µ—Ä—Ü–∏–∏.

`<visual>` (–í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ): –û–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –∑–≤–µ–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç –≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (—Ç–∞–∫–∏—Ö –∫–∞–∫ RVIZ2).

`<origin>`: –°–º–µ—â–µ–Ω–∏–µ –∏ –ø–æ–≤–æ—Ä–æ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–π –≥–µ–æ–º–µ—Ç—Ä–∏–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä–∞ –∑–≤–µ–Ω–∞.

`<geometry>`: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ñ–æ—Ä–º—É. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å `<box>`, `<cylinder>`, `<sphere>`, –∏–ª–∏ —Å–ª–æ–∂–Ω–∞—è <mesh> (–æ–±—ã—á–Ω–æ —Ñ–∞–π–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ .dae –∏–ª–∏ .stl).

`<material>`: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ü–≤–µ—Ç (`<color>`) –∏–ª–∏ —Ç–µ–∫—Å—Ç—É—Ä—É –∑–≤–µ–Ω–∞.

`<collision>` (–ö–æ–ª–ª–∏–∑–∏–æ–Ω–Ω–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è): –û–ø–∏—Å—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º—É, –∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –¥–≤–∏–∂–∫–æ–º —Ñ–∏–∑–∏–∫–∏ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π. –≠—Ç–∞ –≥–µ–æ–º–µ—Ç—Ä–∏—è —á–∞—Å—Ç–æ –±—ã–≤–∞–µ—Ç –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π, —á–µ–º –≤–∏–∑—É–∞–ª—å–Ω–∞—è, –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

`<origin>`: –°–º–µ—â–µ–Ω–∏–µ –∏ –ø–æ–≤–æ—Ä–æ—Ç –∫–æ–ª–ª–∏–∑–∏–æ–Ω–Ω–æ–π –≥–µ–æ–º–µ—Ç—Ä–∏–∏.

`<geometry>`: –§–æ—Ä–º–∞ –¥–ª—è —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –≤–∏–∑—É–∞–ª—å–Ω–æ–π).

–í–∞–∂–Ω–æ: –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏ –∫–æ–ª–ª–∏–∑–∏–æ–Ω–Ω–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏–∏ –Ω–µ –æ–±—è–∑–∞–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å. –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–ª–ª–∏–∑–∏–æ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞.

### 2. –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (Joint `<joint>`)
**–¢–µ–≥ `<joint>` –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –¥–≤–∞ –∑–≤–µ–Ω–∞ —Å–≤—è–∑–∞–Ω—ã –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º, –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –∏—Ö –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è.**

–ê—Ç—Ä–∏–±—É—Ç—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ `<joint>`:

- `name`: –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

- `type`: –¢–∏–ø —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π —Å—Ç–µ–ø–µ–Ω–∏ —Å–≤–æ–±–æ–¥—ã:

  - `revolute` - –≤—Ä–∞—â–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º —É–≥–ª–æ–º).

  - `continuous` - –≤—Ä–∞—â–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, –∫–∞–∫ –∫–æ–ª–µ—Å–æ).

  - `prismatic` - –ª–∏–Ω–µ–π–Ω–æ–µ (–ø–æ—Å—Ç—É–ø–∞—Ç–µ–ª—å–Ω–æ–µ) —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.

  - `fixed` - –∂–µ—Å—Ç–∫–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (–±–µ–∑ –¥–≤–∏–∂–µ–Ω–∏—è).

  - `floating` - —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ø–æ–ª–Ω–æ–π —Å–≤–æ–±–æ–¥–æ–π –¥–≤–∏–∂–µ–Ω–∏—è.

  - `planar` - –¥–≤–∏–∂–µ–Ω–∏–µ –≤ –ø–ª–æ—Å–∫–æ—Å—Ç–∏.

**`<origin>`: –ó–∞–¥–∞–µ—Ç —Å–º–µ—â–µ–Ω–∏–µ –∏ –ø–æ–≤–æ—Ä–æ—Ç –æ—Ç —Å–∏—Å—Ç–µ–º—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–≤–µ–Ω–∞ –∫ —Å–∏—Å—Ç–µ–º–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –¥–æ—á–µ—Ä–Ω–µ–≥–æ –∑–≤–µ–Ω–∞. –≠—Ç–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–º–µ—â–∞–µ—Ç –¥–æ—á–µ—Ä–Ω–µ–µ –∑–≤–µ–Ω–æ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ä–æ–¥–∏—Ç–µ–ª—è.**

#### –ê—Ç—Ä–∏–±—É—Ç `xyz` - –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ (translation)
- **–§–æ—Ä–º–∞—Ç:** `"x y z"` –≤ –º–µ—Ç—Ä–∞—Ö
- **–ó–Ω–∞—á–µ–Ω–∏—è:** `"0 0 0"`
- **–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞:**
  - `x=0` - —Å–º–µ—â–µ–Ω–∏—è –ø–æ –æ—Å–∏ X (–≤–ø–µ—Ä–µ–¥/–Ω–∞–∑–∞–¥)
  - `y=0` - —Å–º–µ—â–µ–Ω–∏—è –ø–æ –æ—Å–∏ Y (–≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ) 
  - `z=0` - —Å–º–µ—â–µ–Ω–∏–µ –ø–æ –æ—Å–∏ Z (–≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑)

#### –ê—Ç—Ä–∏–±—É—Ç `rpy` - –ø–æ–≤–æ—Ä–æ—Ç (rotation)
- **–§–æ—Ä–º–∞—Ç:** `"roll pitch yaw"` –≤ —Ä–∞–¥–∏–∞–Ω–∞—Ö
- **–ó–Ω–∞—á–µ–Ω–∏—è:** `"0 0 0"`
- **–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞:**
  - `roll=0` - –∫—Ä–µ–Ω (–≤—Ä–∞—â–µ–Ω–∏–µ –≤–æ–∫—Ä—É–≥ –æ—Å–∏ X)
  - `pitch=0` - —Ç–∞–Ω–≥–∞–∂ (–≤—Ä–∞—â–µ–Ω–∏–µ –≤–æ–∫—Ä—É–≥ –æ—Å–∏ Y)
  - `yaw=0` - —Ä—ã—Å–∫–∞–Ω—å–µ (–≤—Ä–∞—â–µ–Ω–∏–µ –≤–æ–∫—Ä—É–≥ –æ—Å–∏ Z)

`<parent>`: –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–µ –∑–≤–µ–Ω–æ (link) –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Ä–æ–±–æ—Ç–∞.

`<child>`: –°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ—á–µ—Ä–Ω–µ–µ –∑–≤–µ–Ω–æ, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è –∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º—É.

`<axis>`: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ—Å—å, –≤–æ–∫—Ä—É–≥ –∫–æ—Ç–æ—Ä–æ–π (–∏–ª–∏ –≤–¥–æ–ª—å –∫–æ—Ç–æ—Ä–æ–π) –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–≤–∏–∂–µ–Ω–∏–µ. –ó–∞–¥–∞–µ—Ç—Å—è –µ–¥–∏–Ω–∏—á–Ω—ã–º –≤–µ–∫—Ç–æ—Ä–æ–º –≤ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, xyz="1 0 0" –æ–∑–Ω–∞—á–∞–µ—Ç –æ—Å—å X.

`<limit>`: –û–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Ç–∏–ø–∞ revolute –∏ prismatic. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞–±–æ—á–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

- `lower` - –Ω–∏–∂–Ω–∏–π –ø—Ä–µ–¥–µ–ª (–≤ —Ä–∞–¥–∏–∞–Ω–∞—Ö –∏–ª–∏ –º–µ—Ç—Ä–∞—Ö).

- `upper` - –≤–µ—Ä—Ö–Ω–∏–π –ø—Ä–µ–¥–µ–ª.

- `effort` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —É—Å–∏–ª–∏–µ (–∫—Ä—É—Ç—è—â–∏–π –º–æ–º–µ–Ω—Ç –¥–ª—è revolute –∏–ª–∏ —Å–∏–ª–∞ –¥–ª—è prismatic), –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –ø—Ä–∏–ª–æ–∂–∏—Ç—å –ø—Ä–∏–≤–æ–¥.

- `velocity` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è.

## –†–∞–∑–±–æ—Ä –ø—Ä–∏–º–µ—Ä–∞ –ª–µ–≤–æ–≥–æ –≥–æ–ª–µ–Ω–æ—Å—Ç–æ–ø–Ω–æ–≥–æ —Å—É—Å—Ç–∞–≤–∞

–ù—É–∂–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –ª–∞–∂–∏—Ç –ø–æ —ç—Ç–æ–º—É –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–º—É –∞–¥—Ä–µ—Å—É:

`unitree_h1_visualization_ws/src/h1_description/urdf/h1.urdf`

–∏–ª–∏ –ø–æ [—ç—Ç–æ–π —Å—Å—ã–ª–∫–µ](https://github.com/cyberbanana777/unitree_h1_visualization_ws/blob/main/h1_description/urdf/h1.urdf) –≤ —Ä–µ–ø–æ–∏–∑–∏—Ç–æ—Ä–∏–∏ `unitree_h1_visualization_ws`.

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ª–µ–≤–æ–≥–æ –≥–æ–ª–µ–Ω–æ—Å—Ç–æ–ø–Ω–æ–≥–æ —Å—É—Å—Ç–∞–≤–∞, –æ–ø–∏—Å–∞–Ω–Ω–æ–µ –≤ URDF,:

```bash
    <link
    name="left_ankle_link">
    <inertial>
        <origin
        xyz="0.042575 -0.000001 -0.044672"
        rpy="0 0 0" />
        <mass
        value="0.474" />
        <inertia
        ixx="0.000159668"
        ixy="-0.000000005"
        ixz="0.000141063"
        iyy="0.002900286"
        iyz="0.000000014"
        izz="0.002805438" />
    </inertial>
    <visual>
        <origin
        xyz="0 0 0"
        rpy="0 0 0" />
        <geometry>
        <mesh
            filename="package://h1_description/meshes/left_ankle_link.dae" />
        </geometry>
        <material
        name="">
        <color
            rgba="0.1 0.1 0.1 1" />
        </material>
    </visual>
    <collision>
        <origin xyz="0.05 0.0 -0.05" rpy="0 0 0" />
        <geometry>
        <box size="0.28 0.03 0.024"/>
        </geometry>
    </collision>
    </link>
    <joint
    name="left_ankle_joint"
    type="revolute">
    <origin
        xyz="0 0 -0.4"
        rpy="0 0 0" />
    <parent
        link="left_knee_link" />
    <child
        link="left_ankle_link" />
    <axis
        xyz="0 1 0" />
    <limit
        lower="-0.87"
        upper="0.52"
        effort="40"
        velocity="9" />
    </joint>

```

## –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–µ—Ä–∞—Ä—Ö–∏–∏
–†–æ–±–æ—Ç –≤ URDF –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –≤–∏–¥–µ –¥–µ—Ä–µ–≤–∞ –∑–≤–µ–Ω—å–µ–≤, —Å–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã—Ö —Å—É—Å—Ç–∞–≤–∞–º–∏. –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –¥–µ—Ä–µ–≤–æ —Å "–∫–æ—Ä–Ω–µ–≤–æ–≥–æ" –∑–≤–µ–Ω–∞ (base link), –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –∏–º–µ–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è. –ö–∞–∂–¥–æ–µ –ø–æ—Å–ª–µ–¥—É—é—â–µ–µ –∑–≤–µ–Ω–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è –∫ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –≤ –¥–µ—Ä–µ–≤–µ —Å –ø–æ–º–æ—â—å—é —Å—É—Å—Ç–∞–≤–∞.

–í –≤–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ:

`left_knee_link` —è–≤–ª—è–µ—Ç—Å—è —Ä–æ–¥–∏—Ç–µ–ª–µ–º.

`left_ankle_link` —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–±–µ–Ω–∫–æ–º.

`left_ankle_joint` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ —Ä–µ–±–µ–Ω–æ–∫ —Å–æ–µ–¥–∏–Ω–µ–Ω —Å —Ä–æ–¥–∏—Ç–µ–ª–µ–º (–≤–∫–ª—é—á–∞—è —Å–º–µ—â–µ–Ω–∏–µ, –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é –∏ –æ—Å—å –≤—Ä–∞—â–µ–Ω–∏—è).


## –ë–ª–æ–∫ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è (Joint) - `left_ankle_joint`

–î–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω—É–∂–Ω—ã—Ö –Ω–∞–º –ø–∞—Ä–∞–º–∞—Ç—Ä–æ–≤ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–∞—Å–º–æ—Ç—Ä–µ—Ç—å –±–ª–æ–∫ `<joint>`.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
```xml
<joint name="left_ankle_joint" type="revolute">
```

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:**
- `name="left_ankle_joint"` - —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- `type="revolute"` - –≤—Ä–∞—â–∞—Ç–µ–ª—å–Ω—ã–π —Ç–∏–ø —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–∫–∞–∫ —à–∞—Ä–Ω–∏—Ä)

### –ì–µ–æ–º–µ—Ç—Ä–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
```xml
<origin xyz="0 0 -0.4" rpy="0 0 0" />
```

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:**
- –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–æ —Å–æ —Å–º–µ—â–µ–Ω–∏–µ–º **-0.4 –º (40 —Å–º)** –ø–æ –æ—Å–∏ Z –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–≤–µ–Ω–∞
- –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≥–æ–ª–µ–Ω–æ—Å—Ç–æ–ø –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ 40 —Å–º –Ω–∏–∂–µ –∫–æ–ª–µ–Ω–Ω–æ–≥–æ —Å—É—Å—Ç–∞–≤–∞
- –ò –≥–æ–ª–µ–Ω–æ—Å—Ç–æ–ø –Ω–µ –ø–æ–≤–µ—Ä–Ω—É—Ç –Ω–∏ –ø–æ –∫–∞–∫–æ–π –æ—Å–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ–ª–µ–Ω–Ω–æ–≥–æ —Å—É—Å—Ç–∞–≤–∞

### –ò–µ—Ä–∞—Ä—Ö–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
```xml
<parent link="left_knee_link" />
<child link="left_ankle_link" />
```

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:**
- –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–µ –∑–≤–µ–Ω–æ: `left_knee_link` (–∑–≤–µ–Ω–æ –∫–æ–ª–µ–Ω–∞)
- –î–æ—á–µ—Ä–Ω–µ–µ –∑–≤–µ–Ω–æ: `left_ankle_link` (—Ç–µ–∫—É—â–µ–µ –∑–≤–µ–Ω–æ –ª–æ–¥—ã–∂–∫–∏)

### –û—Å—å –≤—Ä–∞—â–µ–Ω–∏—è –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
```xml
<axis xyz="0 1 0" />
<limit lower="-0.87" upper="0.52" effort="40" velocity="9" />
```

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:**
- `<axis xyz="0 1 0">` - –æ—Å—å –≤—Ä–∞—â–µ–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø–æ –æ—Å–∏ Y
- `<limit>`:
  - `lower="-0.87"` - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É–≥–æ–ª = **-0.87 —Ä–∞–¥–∏–∞–Ω** (‚âà -50¬∞)
  - `upper="0.52"` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É–≥–æ–ª = **0.52 —Ä–∞–¥–∏–∞–Ω** (‚âà +30¬∞)
  - `effort="40"` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∫—Ä—É—Ç—è—â–∏–π –º–æ–º–µ–Ω—Ç = **40 –ù¬∑–º**
  - `velocity="9"` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å = **9 —Ä–∞–¥/—Å** (‚âà 515¬∞/—Å)

## –§–∏–∑–∏—á–µ—Å–∫–∏–π —Å–º—ã—Å–ª –≤—Å–µ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

–≠—Ç–æ –æ–ø–∏—Å–∞–Ω–∏–µ **–≥–æ–ª–µ–Ω–æ—Å—Ç–æ–ø–Ω–æ–≥–æ —Å—É—Å—Ç–∞–≤–∞** —Ä–æ–±–æ—Ç–∞:
- –ó–≤–µ–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —á–∞—Å—Ç—å –Ω–æ–≥–∏ –≤ –æ–±–ª–∞—Å—Ç–∏ –ª–æ–¥—ã–∂–∫–∏
- –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–≤–µ—Ä—à–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è —Ç–∏–ø–∞ "—Å–≥–∏–±–∞–Ω–∏–µ-—Ä–∞–∑–≥–∏–±–∞–Ω–∏–µ" —Å—Ç–æ–ø—ã
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —É–≥–ª–∞ –ø–æ–∑–≤–æ–ª—è—é—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –æ—Ç –ø–æ–¥—ä–µ–º–∞ —Å—Ç–æ–ø—ã (50¬∞) –¥–æ –æ–ø—É—Å–∫–∞–Ω–∏—è (30¬∞)

# –ê–Ω–∞–ª–∏–∑ URDF: –¥–ª–∏–Ω—ã –∑–≤–µ–Ω—å–µ–≤

–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º `right_hip_pitch_joint` –∏–∑ `urdf`:

```bash

<!-- right_hip_roll ‚Üí right_hip_pitch -->
  <joint
    name="right_hip_pitch_joint"
    type="revolute">
    <origin
      xyz="0 -0.11536 0"
      rpy="0 0 0" />
    <parent
      link="right_hip_roll_link" />
    <child
      link="right_hip_pitch_link" />
    <axis
      xyz="0 1 0" />
    <limit
      lower="-3.14"
      upper="2.53"
      effort="200"
      velocity="23" />
  </joint>

```

![–°—É—Å—Ç–∞–≤—ã Unitre H1](photo_for_instructions/robot_analysis/left_pitch_roll_axes.png)

*–†–∏—Å—É–Ω–æ–∫ 6 - –°–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç right_hip_roll_link (—Å–ø—Ä–∞–≤–∞) –∏ right_hip_pitch_link (—Å–ª–µ–≤–∞)*

**–†–∞—Å—á—ë—Ç –¥–ª–∏–Ω—ã –∑–≤–µ–Ω–∞**

–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –¥–ª–∏–Ω–∞ –∑–≤–µ–Ω–∞ —Ä–∞–≤–Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é –º–µ–∂–¥—É —Ü–µ–Ω—Ç—Ä–∞–º–∏ —Å–∏—Å—Ç–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç `right_hip_roll_link` –∏ `right_hip_pitch_link`.

–°–º–µ—â–µ–Ω–∏–µ –º–µ–∂–¥—É –Ω–∏–º–∏ –∑–∞–¥–∞–Ω–æ –≤–µ–∫—Ç–æ—Ä–æ–º `xyz="0 -0.11536 0"`. –ü–æ—Å–∫–æ–ª—å–∫—É —Å–º–µ—â–µ–Ω–∏–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ –æ—Å–∏ Y, –¥–ª–∏–Ω–∞ –∑–≤–µ–Ω–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ –∫–∞–∫ –º–æ–¥—É–ª—å —ç—Ç–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è:

–î–ª–∏–Ω–∞ = | -0.11536 | = 0.11536 –º–µ—Ç—Ä–∞.

**–í –æ–±—â–µ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –±—ã —Å–º–µ—â–µ–Ω–∏–µ –±—ã–ª–æ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –æ—Å—è–º, –¥–ª–∏–Ω–∞ –Ω–∞—Ö–æ–¥–∏–ª–∞—Å—å –±—ã –ø–æ —Ñ–æ—Ä–º—É–ª–µ ‚àö(x¬≤ + y¬≤ + z¬≤).**


–ö–æ–Ω–µ—á–Ω–æ! –í–æ—Ç –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç. –û–Ω —Å—Ç–∞–ª –±–æ–ª–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º, –ø–æ–Ω—è—Ç–Ω—ã–º –∏ –ø—Ä–∏—è—Ç–Ω—ã–º –¥–ª—è —á—Ç–µ–Ω–∏—è.

---

### –ö–∞–∫ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º–µ–∂–¥—É —Å–∏—Å—Ç–µ–º–∞–º–∏ –æ—Ç—Å—á—ë—Ç–∞ —Ä–æ–±–æ—Ç–∞

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ ROS 2 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É—Ç–∏–ª–∏—Ç–∞ `tf2_echo`. –û–Ω–∞ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–∏—Å—Ç–µ–º—É —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π (TF) –∏ –≤—ã–≤–æ–¥–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É –¥–≤—É–º—è —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –æ—Ç—Å—á—ë—Ç–∞ (—Ñ—Ä–µ–π–º–∞–º–∏).

**–í–∞–∂–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ:** –î–ª—è —Ä–∞–±–æ—Ç—ã —É—Ç–∏–ª–∏—Ç—ã —Ä–æ–±–æ—Ç –¥–æ–ª–∂–µ–Ω –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏—è —Å–≤–æ–∏—Ö —Ñ—Ä–µ–π–º–æ–≤ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π –º–µ–∂–¥—É –Ω–∏–º–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ–ø–∏–∫–∞—Ö.

### 1. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ [unitree_h1_visualization_ws](https://github.com/cyberbanana777/unitree_h1_visualization_ws) –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ show.launch.py, —Ä–µ–ª–∞–ª–∏–∑–æ–≤–∞–Ω –∑–ø—É—Å–∫ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π –¥–ª—è —Ä–æ–±–æ—Ç–∞ Unitree H1. –í—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å—Å—ã–ª–∫–µ –≤—ã—à–µ.

–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π —Å –ø–æ–º–æ—â—å—é —Ä–µ–ø–æ–∑–∏—Ç—Ä–∏—è `unitree_h1_visualization_ws` –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∞—Ä–∏–∞—Ü–∏—è—Ö, –ø–æ–¥—Ä–æ–±–Ω–µ–µ [—Ç—É—Ç](https://github.com/cyberbanana777/unitree_h1_visualization_ws/tree/main?tab=readme-ov-file#-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ):

*   **–ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –≤ Rviz:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è.

```bash
ros2 launch h1_description description.launch.py mode:=without_hands launch_rviz:=True
```

*   **–ó–∞–ø—É—Å–∫ –±–µ–∑ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:** 

```bash
ros2 launch h1_description description.launch.py mode:=without_hands
```
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è launch —Ñ–∞–π–ª–∞ –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è, —á—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –¥–ª—è –ª—é–±–æ–π —Å–∏—Ç–∞—Ü–∏–∏ - –Ω–∞ —Ä–µ–ª—å–Ω–æ–º —Ä–æ–±–æ—Ç–µ –∏–ª–∏ –Ω–µ—Ç –∏ —Ç–¥.

```bash
ros2 launch completed_scripts_visualization show.launch.py -s
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –º–æ–∂–Ω–æ, –∑–∞–ø—É—Å—Ç–∏–≤ –∫–æ–º–∞–Ω–¥—É:** 

```bash
ros2 node list
```
–í —Å–ø–∏—Å–∫–µ –Ω–æ–¥ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–æ–¥–∞ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `/robot_state_publisher`

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç—ã `tf2_echo`

**–§–æ—Ä–º–∞—Ç –∫–æ–º–∞–Ω–¥—ã:**
```bash
ros2 run tf2_ros tf2_echo <–∏—Å—Ö–æ–¥–Ω—ã–π_—Ñ—Ä–µ–π–º> <—Ü–µ–ª–µ–≤–æ–π_—Ñ—Ä–µ–π–º>
```

**–ü—Ä–∏–º–µ—Ä:**
–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏–∑ —Ç–∞–∑–∞ (`pelvis`) –≤ –∑–≤–µ–Ω–æ –ø—Ä–∞–≤–æ–≥–æ –ø–ª–µ—á–∞ (`right_shoulder_pitch_link`), –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
ros2 run tf2_ros tf2_echo pelvis right_shoulder_pitch_link
```

**–ì–¥–µ –Ω–∞–π—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏—è —Ñ—Ä–µ–π–º–æ–≤?**
*   –í –æ–∫–Ω–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ Rviz (–≤ —Ä–∞–∑–¥–µ–ª–µ TF).
*   –í URDF-–æ–ø–∏—Å–∞–Ω–∏–∏ –º–æ–¥–µ–ª–∏ —Ä–æ–±–æ—Ç–∞.

#### 3. –ö–∞–∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∫–æ–º–∞–Ω–¥—ã –≤ –∫–æ–Ω—Å–æ–ª—å –Ω–∞—á–Ω—ë—Ç –≤—ã–≤–æ–¥–∏—Ç—å—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–∏–º–µ—Ä–Ω–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–∞:

```bash
At time 1761151063.357288585
- Translation: [0.005, -0.155, 0.430]
- Rotation: in Quaternion [-0.216, 0.000, 0.000, 0.976]
```

**–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö:**

*   **Translation `[x, y, z]`** ‚Äî —ç—Ç–æ –≤–µ–∫—Ç–æ—Ä –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è (–≤ –º–µ—Ç—Ä–∞—Ö) –æ—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ—Ä–µ–π–º–∞ –∫ —Ü–µ–ª–µ–≤–æ–º—É.
    *   **X = 0.005 –º**: –ü—Ä–∞–≤–æ–µ –ø–ª–µ—á–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ—á—Ç–∏ –ø—Ä—è–º–æ –ø–æ –æ—Å–∏ X –æ—Ç —Ç–∞–∑–∞ (—Å–ª–µ–≥–∫–∞ –≤–ø–µ—Ä–µ–¥–∏).
    *   **Y = -0.155 –º**: –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –æ—Å–∏ Y –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–ª–µ—á–æ —Å–º–µ—â–µ–Ω–æ –≤–ª–µ–≤–æ –æ—Ç —Ç–∞–∑–∞ (–≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ä–æ–±–æ—Ç–∞ –æ—Å—å Y –æ–±—ã—á–Ω–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤–ª–µ–≤–æ).
    *   **Z = 0.430 –º**: –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø–ª–µ—á–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –≤—ã—à–µ —Ç–∞–∑–∞.

*   **Rotation `[x, y, z, w]`** ‚Äî —ç—Ç–æ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–∞—è –≤ –≤–∏–¥–µ –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω–∞.
    *   –í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –Ω–µ–Ω—É–ª–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `x` –∏ `w` —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –ø–æ–≤–æ—Ä–æ—Ç –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –≤–æ–∫—Ä—É–≥ –æ—Å–∏ X.

#### –í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ

–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É —Ñ—Ä–µ–π–º–∞–º–∏ –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∏ –º–µ–Ω—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø–æ –º–µ—Ä–µ –¥–≤–∏–∂–µ–Ω–∏—è –∑–≤–µ–Ω—å–µ–≤ —Ä–æ–±–æ—Ç–∞.

**–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–æ–±–æ—Ç–∞ (–∏–ª–∏ –µ–≥–æ —Å–∏–º—É–ª—è—Ü–∏–æ–Ω–Ω—É—é –º–æ–¥–µ–ª—å) –≤ –Ω—É–∂–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ, –¥–æ–∂–¥–∏—Ç–µ—Å—å –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏–π, –∏ —Ç–æ–ª—å–∫–æ –∑–∞—Ç–µ–º —Å–Ω–∏–º–∏—Ç–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è —Å –ø–æ–º–æ—â—å—é `tf2_echo`.

## –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–æ—á–∫–∏ –∏–∑ –æ–¥–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ –¥—Ä—É–≥—É—é, –º–∞—Ç—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥

–û–±—â–∞—è —Ñ–æ—Ä–º—É–ª–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–æ—á–∫–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã A –≤ —Å–∏—Å—Ç–µ–º—É B:

**P‚ÇÇ = R √ó P‚ÇÅ + t**

–≥–¥–µ:
- **P‚ÇÅ** = [x‚ÇÅ, y‚ÇÅ, z‚ÇÅ] - —Ç–æ—á–∫–∞ –≤ –∏—Å—Ö–æ–¥–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- **P‚ÇÇ** = [x‚ÇÇ, y‚ÇÇ, z‚ÇÇ] - —Ç–æ—á–∫–∞ –≤ —Ü–µ–ª–µ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç  
- **R** - –º–∞—Ç—Ä–∏—Ü–∞ –ø–æ–≤–æ—Ä–æ—Ç–∞ 3√ó3
- **t** = [t‚Çì, t·µß, t‚ÇÇ] - –≤–µ–∫—Ç–æ—Ä

## 2. –î–∞–Ω–Ω—ã–µ

```
Translation: t = [0.005, -0.155, 0.430]
Rotation: q = [-0.216, 0.000, 0.000, 0.976]  # [x, y, z, w]
Point: P‚ÇÅ = [0.1, 0.2, 0.3]
```

## 3. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω–∞ –≤ –º–∞—Ç—Ä–∏—Ü—É –ø–æ–≤–æ—Ä–æ—Ç–∞

### –§–æ—Ä–º—É–ª–∞ –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω–∞:
q = [x, y, z, w] = [q‚Çì, q·µß, q‚ÇÇ, q_w]

### –ú–∞—Ç—Ä–∏—Ü–∞ –ø–æ–≤–æ—Ä–æ—Ç–∞ –∏–∑ –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω–∞:

```
    [1-2(q·µß¬≤+q‚ÇÇ¬≤)   2(q‚Çìq·µß-q_wq‚ÇÇ)   2(q‚Çìq‚ÇÇ+q_wq·µß) ]
R = [2(q‚Çìq·µß+q_wq‚ÇÇ)   1-2(q‚Çì¬≤+q‚ÇÇ¬≤)   2(q·µßq‚ÇÇ-q_wq‚Çì) ]
    [2(q‚Çìq‚ÇÇ-q_wq·µß)   2(q·µßq‚ÇÇ+q_wq‚Çì)   1-2(q‚Çì¬≤+q·µß¬≤) ]
```

### –î–ª—è –ø—Ä–∏–º–µ—Ä–∞ –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω–∞ q = [-0.216, 0.000, 0.000, 0.976]:

```
q‚Çì = -0.216, q·µß = 0.000, q‚ÇÇ = 0.000, q_w = 0.976

R = [1-2(0+0)       2(0-0)          2(0+0)        ]
    [2(0+0)         1-2(0.0467+0)   2(0-(-0.211)) ]
    [2(0-0)         2(0+(-0.211))   1-2(0.0467+0) ]

R = [1.000  0.000  0.000]
    [0.000  0.907  0.422]
    [0.000 -0.422  0.907]
```

## 4. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–æ–≤–æ—Ä–æ—Ç–∞

**P_rotated = R √ó P‚ÇÅ**

```
[1.000  0.000  0.000]   [0.1]   [0.1]
[0.000  0.907  0.422] √ó [0.2] = [0.907√ó0.2 + 0.422√ó0.3] = [0.1814 + 0.1266] = [0.308]
[0.000 -0.422  0.907]   [0.3]   [-0.422√ó0.2 + 0.907√ó0.3] = [-0.0844 + 0.2721] = [0.188]
```

**P_rotated = [0.1, 0.308, 0.188]**

## 5. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è

**P‚ÇÇ = P_rotated + t**

```
P‚ÇÇ = [0.1, 0.308, 0.188] + [0.005, -0.155, 0.430]
P‚ÇÇ = [0.105, 0.153, 0.618]
```

## –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–æ—á–∫–∏ –∏–∑ –æ–¥–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ –¥—Ä—É–≥—É—é —Å –ø–æ–º—â—å—é ROS2 –Ω–æ–¥—ã

```python
#!/usr/bin/env python3
import rclpy
from rclpy.node import Node
from geometry_msgs.msg import PointStamped
from tf2_ros import TransformException
from tf2_ros.buffer import Buffer
from tf2_ros.transform_listener import TransformListener
from tf2_geometry_msgs import do_transform_point

class BasicTFTransformer(Node):
    def __init__(self):
        # 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–æ–¥—É —Å –∏–º–µ–Ω–µ–º 'basic_tf_transformer'
        super().__init__('basic_tf_transformer')
        
        # 2. –°–æ–∑–¥–∞–µ–º –±—É—Ñ–µ—Ä –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π
        self.tf_buffer = Buffer()
        
        # 3. –°–æ–∑–¥–∞–µ–º "—Å–ª—É—à–∞—Ç–µ–ª—è" —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π
        self.tf_listener = TransformListener(self.tf_buffer, self)
        
        self.get_logger().info("–ë–∞–∑–æ–≤–∞—è TF –Ω–æ–¥–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞")

    def transform_point(self, point_xyz, from_frame, to_frame):
        """
        –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ç–æ—á–∫—É –∏–∑ –æ–¥–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ –¥—Ä—É–≥—É—é
        
        Args:
            point_xyz: —Å–ø–∏—Å–æ–∫ [x, y, z] - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ—á–∫–∏ –≤ –∏—Å—Ö–æ–¥–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ
            from_frame: —Å—Ç—Ä–æ–∫–∞ - –∏–º—è –∏—Å—Ö–æ–¥–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
            to_frame: —Å—Ç—Ä–æ–∫–∞ - –∏–º—è —Ü–µ–ª–µ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
        
        Returns:
            —Å–ø–∏—Å–æ–∫ [x, y, z] - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ—á–∫–∏ –≤ —Ü–µ–ª–µ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
        """
        try:
            # 4. –ü–æ–ª—É—á–∞–µ–º —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é –º–µ–∂–¥—É —Å–∏—Å—Ç–µ–º–∞–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
            transform = self.tf_buffer.lookup_transform(
                to_frame,           # —Ü–µ–ª–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
                from_frame,         # –∏—Å—Ö–æ–¥–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞  
                rclpy.time.Time()   # –≤—Ä–µ–º—è (0 - –ø–æ—Å–ª–µ–¥–Ω—è—è –¥–æ—Å—Ç—É–ø–Ω–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è)
            )
            
            self.get_logger().info(f"–ù–∞–π–¥–µ–Ω–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è: {from_frame} -> {to_frame}")
            
            # 5. –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ PointStamped –¥–ª—è –∏—Å—Ö–æ–¥–Ω–æ–π —Ç–æ—á–∫–∏
            point_stamped = PointStamped()
            point_stamped.header.frame_id = from_frame  # —É–∫–∞–∑—ã–≤–∞–µ–º —Å–∏—Å—Ç–µ–º—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ç–æ—á–∫–∏
            point_stamped.header.stamp = self.get_clock().now().to_msg()  # —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
            point_stamped.point.x = point_xyz[0]
            point_stamped.point.y = point_xyz[1] 
            point_stamped.point.z = point_xyz[2]
            
            # 6. –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é –∫ —Ç–æ—á–∫–µ
            transformed_point = do_transform_point(point_stamped, transform)
            
            # 7. –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            return [
                transformed_point.point.x,
                transformed_point.point.y,
                transformed_point.point.z
            ]
            
        except TransformException as e:
            self.get_logger().error(f"–û—à–∏–±–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è: {e}")
            return None

def main():
    # 8. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º ROS2
    rclpy.init()
    
    # 9. –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω–æ–¥—ã
    transformer = BasicTFTransformer()
    
    try:
        # 10. –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–æ—á–∫—É –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
        point_in_pelvis = [0.1, 0.2, 0.3]  # x, y, z –≤ –º–µ—Ç—Ä–∞—Ö
        
        # 11. –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Ç–æ—á–∫—É
        point_in_shoulder = transformer.transform_point(
            point_in_pelvis,
            'pelvis',                   # –∏—Å—Ö–æ–¥–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
            'right_shoulder_pitch_link' # —Ü–µ–ª–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
        )
        
        # 12. –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        if point_in_shoulder:
            transformer.get_logger().info("–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ!")
            transformer.get_logger().info(f"–¢–æ—á–∫–∞ –≤ 'pelvis': {point_in_pelvis}")
            transformer.get_logger().info(f"–¢–æ—á–∫–∞ –≤ 'right_shoulder_pitch_link': {point_in_shoulder}")
        else:
            transformer.get_logger().error("–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å")
            
    except KeyboardInterrupt:
        pass
    finally:
        # 13. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ–º —Ä–∞–±–æ—Ç—É
        transformer.destroy_node()
        rclpy.shutdown()

if __name__ == '__main__':
    main()
```

## –ü–æ—à–∞–≥–æ–≤–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –Ω–æ–¥—ã:

### **1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–¥—ã**
```python
super().__init__('basic_tf_transformer')
```
- –°–æ–∑–¥–∞–µ—Ç—Å—è ROS2 –Ω–æ–¥–∞ —Å –∏–º–µ–Ω–µ–º `basic_tf_transformer`
- –≠—Ç–æ –∏–º—è –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ –≤ `ros2 node list`

### **2. –°–æ–∑–¥–∞–Ω–∏–µ –±—É—Ñ–µ—Ä–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π**
```python
self.tf_buffer = Buffer()
```
- `Buffer` —Ö—Ä–∞–Ω–∏—Ç –∏—Å—Ç–æ—Ä–∏—é —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π

### **3. –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª—É—à–∞—Ç–µ–ª—è**
```python
self.tf_listener = TransformListener(self.tf_buffer, self)
```
- `TransformListener` –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Ç–æ–ø–∏–∫ `/tf` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç –±—É—Ñ–µ—Ä
- –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ

### **4. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏**
```python
transform = self.tf_buffer.lookup_transform(
    to_frame,           # –∫—É–¥–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º
    from_frame,         # –æ—Ç–∫—É–¥–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º  
    rclpy.time.Time()   # –≤—Ä–µ–º—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏
)
```
- `lookup_transform` –∏—â–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É –¥–≤—É–º—è —Å–∏—Å—Ç–µ–º–∞–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- `rclpy.time.Time()` –æ–∑–Ω–∞—á–∞–µ—Ç "–ø–æ—Å–ª–µ–¥–Ω—è—è –¥–æ—Å—Ç—É–ø–Ω–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è"

### **5. –°–æ–∑–¥–∞–Ω–∏–µ PointStamped**
```python
point_stamped = PointStamped()
point_stamped.header.frame_id = from_frame
point_stamped.point.x = point_xyz[0]
# ...
```
- `PointStamped` - —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Å–æ–¥–µ—Ä–∂–∏—Ç:
  - `header.frame_id` - —Å–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ç–æ—á–∫–∏
  - `point.x, y, z` - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ—á–∫–∏

### **6. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏**
```python
transformed_point = do_transform_point(point_stamped, transform)
```
- `do_transform_point` –ø—Ä–∏–º–µ–Ω—è–µ—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫ —Ç–æ—á–∫–µ
- –í–Ω—É—Ç—Ä–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç: **P‚ÇÇ = R √ó P‚ÇÅ + t** (–ø–æ–≤–æ—Ä–æ—Ç + —Å–º–µ—â–µ–Ω–∏–µ)

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å:

**–¢–µ—Ä–º–∏–Ω–∞–ª 1:** –ó–∞–ø—É—Å–∫–∞–µ–º –ø—É–±–ª–∏–∫–∞—Ü–∏—é —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π
```bash
ros2 run robot_state_publisher robot_state_publisher /home/user/unitree_h1_visualization_ws/src/h1_description/urdf/h1.urdf
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2:** –ó–∞–ø—É—Å–∫–∞–µ–º –Ω–∞—à—É –Ω–æ–¥—É
```bash
chmod +x basic_tf_transformer.py
python3 basic_tf_transformer.py
```

## üìä –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
[INFO] [basic_tf_transformer]: –ë–∞–∑–æ–≤–∞—è TF –Ω–æ–¥–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
[INFO] [basic_tf_transformer]: –ù–∞–π–¥–µ–Ω–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è: pelvis -> right_shoulder_pitch_link
[INFO] [basic_tf_transformer]: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ!
[INFO] [basic_tf_transformer]: –¢–æ—á–∫–∞ –≤ 'pelvis': [0.1, 0.2, 0.3]
[INFO] [basic_tf_transformer]: –¢–æ—á–∫–∞ –≤ 'right_shoulder_pitch_link': [0.105, 0.153, 0.618]
```
