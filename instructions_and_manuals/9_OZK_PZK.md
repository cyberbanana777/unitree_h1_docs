---
geometry: "margin=2.5cm"
fontsize: 12pt
mainfont: "Times New Roman"
---

## 1. Постановка задач кинематики в робототехнике

В теории управления манипуляционными роботами кинематический анализ является фундаментальным этапом. Он подразделяется на две основные задачи: **прямую** и **обратную** задачу кинематики.

*   **Прямая задача кинематики (ПЗК)** заключается в определении положения и ориентации рабочего органа (энд-эффector) манипулятора по известным кинематической схеме (длинам звеньев) и значениям обобщённых координат (например, углов поворота в сочленениях $A_1, A_2, \dots, A_n$, где $n$ — число степеней свободы).
*   **Обратная задача кинематики (ОЗК)** заключается в определении значений обобщённых координат $A_1, A_2, \dots, A_n$, которые обеспечивают заданное положение и ориентацию рабочего органа в пространстве.

Таким образом, ПЗК отвечает на вопрос: «**Где окажется рабочий орган при заданных углах в сочленениях?**» В то время как ОЗК решает противоположную проблему: «**Как должны быть установлены углы в сочленениях, чтобы рабочий орган достиг требуемого положения?**»

Для задач планирования траектории и управления **обратная задача кинематики** является более важной и распространённой на практике. Однако её решение сопряжено с фундаментальной сложностью — **неоднозначностью**. Если для любого набора углов $(A_1, A_2, \dots, A_n)$ существует единственное положение рабочего органа $(X, Y, Z)$ (следствие определения ПЗК), то для заданного положения $(X, Y, Z)$ может существовать несколько различных конфигураций манипулятора (наборов углов $(A_1', A_2', \dots, A_n')$), обеспечивающих его достижение. При аналитическом решении ОЗК эта неоднозначность проявляется, например, через выбор знака при извлечении квадратного корня или через периодичность тригонометрических функций.

---

## 2. Пример решения для плоского двухзвенного манипулятора

Для иллюстрации рассмотрим классический пример — плоский двухзвенный манипулятор с двумя вращательными степенями свободы.

**Дано:**

*   Длина первого звена (плеча): $L_1$
*   Длина второго звена (предплечья): $L_2$
*   Угол поворота первого звена относительно основания: $Q_1$
*   Угол поворота второго звена относительно первого: $Q_2$
*   Рабочий орган расположен на конце второго звена.

### 2.1. Решение прямой задачи кинематики

**Цель:** Найти декартовы координаты $(x, y)$ рабочего органа.

Положение точки сочленения между первым и вторым звеном $A$ в базовой системе координат $O$ определяется как:

$$x_A = L_1 \cdot \cos(Q_1)$$
$$y_A = L_1 \cdot \sin(Q_1)$$

Второе звено в базовой системе координат повёрнуто на угол $Q_1 + Q_2$. Следовательно, проекции вектора $L_2$ на оси координат равны:

$$x' = L_2 \cdot \cos(Q_1 + Q_2)$$
$$y' = L_2 \cdot \sin(Q_1 + Q_2)$$

Результирующие координаты рабочего органа находятся векторным сложением:

$$x = x_A + x' = L_1 \cdot \cos(Q_1) + L_2 \cdot \cos(Q_1 + Q_2)$$
$$y = y_A + y' = L_1 \cdot \sin(Q_1) + L_2 \cdot \sin(Q_1 + Q_2)$$

Данная система уравнений представляет собой решение ПЗК для рассматриваемого манипулятора.

### 2.2. Решение обратной задачи кинематики

**Цель:** По заданным координатам рабочего органа $(x, y)$ найти углы $Q_1$ и $Q_2$.

Введём вспомогательные величины:

*   $B = \sqrt{x^2 + y^2}$ — расстояние от основания манипулятора до целевой точки.
*   $q_1 = \arctan2(y, x)$ — угол между осью $OX$ и вектором $B$. Использование функции `arctan2` корректно определяет квадрант угла.

Для треугольника, образованного звеньями $L_1$, $L_2$ и отрезком $B$, по теореме косинусов:

$$L_2^2 = L_1^2 + B^2 - 2 \cdot L_1 \cdot B \cdot \cos(q_2)$$

где $q_2$ — угол между $L_1$ и $B$. Отсюда:

$$\cos(q_2) = \frac{L_1^2 + B^2 - L_2^2}{2 \cdot L_1 \cdot B}$$
$$q_2 = \arccos\left( \frac{L_1^2 + B^2 - L_2^2}{2 \cdot L_1 \cdot B} \right)$$

Первое решение для углов (конфигурация "локоть вниз"):

$$Q_1 = q_1 - q_2$$
$$Q_2 = \pi - \arccos\left( \frac{L_1^2 + L_2^2 - B^2}{2 \cdot L_1 \cdot L_2} \right)$$

Второе решение (конфигурация "локоть вверх"):

$$Q_1 = q_1 + q_2$$
$$Q_2 = - \left[ \pi - \arccos\left( \frac{L_1^2 + L_2^2 - B^2}{2 \cdot L_1 \cdot L_2} \right) \right] = \arccos\left( \frac{L_1^2 + L_2^2 - B^2}{2 \cdot L_1 \cdot L_2} \right) - \pi$$

**Возникновение неоднозначности:** Два различных решения появляются из-за свойства чётности функции косинус $\cos(\theta) = \cos(-\theta)$, что эквивалентно выбору знака при геометрическом построении. На практике выбор конфигурации определяется дополнительными ограничениями (например, областью изменения углов, препятствиями в рабочей зоне).